<hr />
<h2><a href="#layout-posttitle-regular-expression-backreferencesubtitle-match-the-same-string-again-using-backreferencegh-repo-huapeng01016blogsgh-badge-star-fork-followtags-statacomments-true" id="layout-posttitle-regular-expression-backreferencesubtitle-match-the-same-string-again-using-backreferencegh-repo-huapeng01016blogsgh-badge-star-fork-followtags-statacomments-true">layout: post title: Regular Expression Backreference subtitle: match the same string again using backreference<br />
gh-repo: huapeng01016/blogs gh-badge: [star, fork, follow] tags: [Stata] comments: true</a></h2>
<p>We want to extract the dates from the following texts, the dates can be like &ldquo;09/13/2021&rdquo; or &ldquo;09-13-2021&rdquo;, but not &ldquo;09-13/2021&rdquo; or &ldquo;09/13/2021&rdquo;.</p>
<p>The trick to accompolish this is to capture the match of the first seperator <strong>[/-]</strong> into a gorup <strong>(..)</strong>, then backrefernce it using <strong>#</strong> (where <strong>#</strong> is the index of the group) to match the second occurnce.</p>
<p>For example:</p>
<pre><code>input str200 address 
&quot;War of 1812 Peace Treaty was signed on 12/24/1814&quot;
&quot;World's first movie theater opened in Paris on 12/25-1776&quot;
&quot;Texas A&amp;M University went coed on 04/27/1963&quot;
&quot;The most recent leap second was added on 12-31/2016&quot;
end
</code></pre>
<pre><code>. list

     +------------------------------------------------------------------------+
     |                                                   history         date |
     |------------------------------------------------------------------------|
  1. |         War of 1812 Peace Treaty was signed on 12/24/1814   12/24/1814 |
  2. | World's first movie theater opened in Paris on 12/25-1776              |
  3. |              Texas A&amp;M University went coed on 04/27/1963   04/27/1963 |
  4. |       The most recent leap second was added on 12-31/2016              |
     +------------------------------------------------------------------------+

</code></pre>
